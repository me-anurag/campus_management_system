<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h2>Manage Classrooms</h2>

<form method="POST" action="/add_classroom" class="mb-3">
    <select name="block_id" class="form-control mb-2" required>
        <option value="">Select Block</option>
        {% for b in blocks %}
        <option value="{{ b.id }}">{{ b.block_name }}</option>
        {% endfor %}
    </select>

    <input name="room_number" placeholder="Room Number" class="form-control mb-2" required>
    <input name="capacity" placeholder="Capacity" type="number" class="form-control mb-2" required>
    <input name="current_students" placeholder="Current Students" type="number" class="form-control mb-2" required>

    <button class="btn btn-primary">Add Classroom</button>
</form>

<form method="GET">
    <select name="block" class="form-control mb-2">
        <option value="">Filter by Block</option>
        {% for b in blocks %}
        <option value="{{ b.id }}">{{ b.block_name }}</option>
        {% endfor %}
    </select>
    <button class="btn btn-secondary mb-3">Filter</button>
</form>

<table class="table table-bordered">
<tr><th>ID</th><th>Room</th><th>Capacity</th><th>Current</th><th>Action</th></tr>
{% for r in rooms %}
<tr>
<td>{{ r.id }}</td>
<td>{{ r.room_number }}</td>
<td>{{ r.capacity }}</td>
<td>{{ r.current_students }}</td>
<td>
<a href="/delete_classroom/{{ r.id }}" class="btn btn-danger btn-sm">Delete</a>
</td>
</tr>
{% endfor %}
</table>

<a href="/dashboard" class="btn btn-secondary">Back</a>

</body>
</html>